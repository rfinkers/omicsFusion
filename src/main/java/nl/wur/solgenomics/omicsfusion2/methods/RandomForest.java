/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package nl.wur.solgenomics.omicsfusion2.methods;

/**
 * Random Forest analysis
 * @author Richard Finkers
 */
public class RandomForest {
//    mydata<-cbind(y,X)
//
//con<-trainControl(method="cv",number=10)
//
//# Optimize mtry using the RMSE as a criterion in a 10-fold cross validataion
//rf_res<-train(X, y,method="rf",metric="RMSE",trControl=con,tuneLength = 10)
//rf_res$finalModel$tuneValue
//rf_res$finalModel$tuneValue$.mtry
//
//# After optimization of mtry the optimal value for mtry is used for Random Forest
//rfres<-randomForest(y=y, x=X, mtry=rf_res$finalModel$tuneValue$.mtry
//,importance=TRUE,na.action=na.omit)
//rfres
//
//# calculate the predicted values for the trait, prediction by RandomForest
//# write the predicted values to an Excel file
//rf_pred<-predict(rfres)
//filename1<-paste(trtname,"pred_rf.xls", sep="_")
//write.xls(rf_pred,filename1)
//
//# variables used
//rf_varused<-varUsed(rfres, by.tree=FALSE, count=TRUE)
//# variable importance
//import<-importance(rfres)
//# combine varused with variable importance in a single data frame
//pr<-rf_pred
//
//import<-cbind(rf_varused,import)
//# write varused and importance to an Excel file
//filename2<-paste(trtname,"rf_importance.xls",sep="_")
//write.xls(import,filename2)
//# Plot variable importance
//#varImpPlot(rfres)
//
//co<-import
//#rownames<-rownames(co)

}
